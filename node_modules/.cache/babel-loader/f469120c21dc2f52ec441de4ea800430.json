{"ast":null,"code":"import React from\"react\";import Screen from\"./Screen\";import Button from\"./Button\";import\"./styles.css\";let flag=false;const nums=Array.from(Array(10).keys()).reverse();const symbset=[\"=\",\".\",\"-\",\"+\",\"*\",\"/\",\"%\",\"√\"].reverse();const operators=[\"+\",\"-\",\"*\",\"/\"];//create 'operations' so operators and their functions can exists as variables\nconst operations={\"+\":function _(a,b){return a+b;},\"-\":function _(a,b){return a-b;},\"*\":function _(a,b){return a*b;},\"/\":function _(a,b){return a/b;}};class App extends React.Component{constructor(){super();this.state={scrValue:\"0\"};}//tests if a string contains only integer of float numbers\ncheckString(value){if(/^\\d+\\.\\d+$/.test(value)||/^\\d+$/.test(value))return true;else return false;}//manipulates the situation when 2 operators goes together in the screen.\nreplacesymbol(symb){// if there is an operator at the end of the string and the rest is a number,\n// then the prexisted operator is replaced by the new operator clicked by user.\nif(this.checkString(this.state.scrValue.slice(0,-1)))this.setState({scrValue:this.state.scrValue.slice(0,-1)+symb});//else means that there is already an operator between 2 numbers in the screen and a second\n//one comes in. The first in place operation completes and the sybmol of the\n//new operation is added at the end of the result.\nelse{this.setState({scrValue://operations object has every possible operation, so we specify the operator\n//by filtering operators array with the operator that is already included in\n//the screen string and the 2 numbers needed for the operation are being given\noperations[//getting the operator that exist in the string\noperators.filter(operator=>this.state.scrValue.includes(operator))](//transform string to number\nNumber(//getting the first part of the string, the one before operator\nthis.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[0]),//transform string to number\nNumber(//getting the second part of the string, the one after operator\nthis.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[1]))+symb//adding the symbol of the new operation at the end\n});}}updateScreen(e){console.log(flag);switch(e.target.value){case\"C\":{this.setState({scrValue:\"0\"});break;}case\"←\":{//check the length of screen value\nif(this.state.scrValue.length>1)this.setState({scrValue:this.state.scrValue.slice(0,-1),symb:null});else this.setState({scrValue:\"0\"});break;}case\".\":{if(this.checkString(this.state.scrValue)&&!this.state.scrValue.includes(\".\"))this.setState({scrValue:this.state.scrValue+\".\"});else if(this.checkString(this.state.scrValue.slice(0,-1))&&!this.state.scrValue.includes(\".\"))this.setState({scrValue:this.state.scrValue.slice(0,-1)+\".\"});else if(this.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[1].length>0&&!this.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[1].includes(\".\"))this.setState({scrValue:this.state.scrValue+\".\"});// console.log(this.state.scrValue.split(this.state.operator)[1]);\n// if (\n//   (!this.state.scrValue.split(this.state.operator)[0].includes(\".\") &&\n//     this.checkString(this.state.scrValue)) ||\n//   (!this.checkString(this.state.scrValue) &&\n//     !this.state.scrValue.split(this.state.operator)[1].includes(\".\") &&\n//     this.state.scrValue.split(this.state.operator)[1] !== \"\")\n// ) {\n//   this.setState({\n//     scrValue: this.state.scrValue + e.target.value\n//   });\n// }\n// if (\n//   !this.state.scrValue.split(this.state.operator)[0].includes(\".\") &&\n//   this.state.scrValue.split(this.state.operator)[1] === \"\"\n// )\n//   this.setState({\n//     scrValue: this.state.scrValue.slice(0, -1) + e.target.value\n//   });\nbreak;}case\"+\":{if(this.state.scrValue.includes(\"+\"))this.setState({scrValue:this.state.scrValue.split(\"+\").reduce((a,b)=>Number(a)+Number(b))+\"+\"});if(this.checkString(this.state.scrValue))this.setState({scrValue:this.state.scrValue+e.target.value});else this.replacesymbol(\"+\");break;}case\"-\":{if(this.state.scrValue.includes(\"-\"))this.setState({scrValue:this.state.scrValue.split(\"-\").reduce((a,b)=>Number(a)-Number(b))+\"-\"});if(this.checkString(this.state.scrValue))this.setState({scrValue:this.state.scrValue+e.target.value});else this.replacesymbol(\"-\");break;}case\"*\":{if(this.state.scrValue.includes(\"*\")&&this.state.scrValue.split(\"*\")[1]!==\"\")this.setState({scrValue:this.state.scrValue.split(\"*\").reduce((a,b)=>Number(a)*Number(b))+\"*\"});if(this.checkString(this.state.scrValue))this.setState({scrValue:this.state.scrValue+e.target.value});else this.replacesymbol(\"*\");break;}case\"/\":{if(this.state.scrValue.includes(\"/\")&&this.state.scrValue.split(\"/\")[1]!==\"\")this.setState({scrValue:this.state.scrValue.split(\"/\").reduce((a,b)=>Number(a)/Number(b))+\"/\"});if(this.checkString(this.state.scrValue))this.setState({scrValue:this.state.scrValue+e.target.value});else this.replacesymbol(\"/\");break;}case\"√\":{if(this.checkString(this.state.scrValue))this.setState({scrValue:String(Math.sqrt(this.state.scrValue))});else if(this.checkString(this.state.scrValue.slice(0,-1)))this.setState({scrValue:String(Math.sqrt(this.state.scrValue.slice(0,-1)))});else this.setState({scrValue:this.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[0]+operators.filter(operator=>this.state.scrValue.includes(operator))+String(Math.sqrt(this.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[1]))});break;}case\"%\":{if(this.checkString(this.state.scrValue))this.setState({scrValue:\"0\"});else if(this.checkString(this.state.scrValue.slice(0,-1)))this.setState({scrValue:this.state.scrValue+String(this.state.scrValue.slice(0,-1)*this.state.scrValue.slice(0,-1)/100)});else this.setState({scrValue:this.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[0]+operators.filter(operator=>this.state.scrValue.includes(operator))+String(this.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[0]*this.state.scrValue.split(operators.filter(operator=>this.state.scrValue.includes(operator)))[1]/100)});break;}case\"=\":{flag=true;if(this.checkString(this.state.scrValue))break;if(this.state.scrValue.slice(-1)===\".\"){this.setState({scrValue:this.state.scrValue.slice(0,-1)});break;}if(this.checkString(this.state.scrValue.slice(0,-1)))this.setState({scrValue:operations[this.state.scrValue.slice(-1)](Number(this.state.scrValue.slice(0,-1)),Number(this.state.scrValue.slice(0,-1)))});else this.replacesymbol(\"\");break;}default:{//check if '0' is the initial value\nthis.state.scrValue===\"0\"||flag&&this.checkString(this.state.scrValue)?this.setState({scrValue:e.target.value}):this.setState({scrValue:this.state.scrValue+e.target.value});flag=false;break;}}}render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Screen,{scrValue:this.state.scrValue}),/*#__PURE__*/React.createElement(\"div\",{className:\"clearContainer\"},/*#__PURE__*/React.createElement(Button,{text:\"←\",onClick:e=>this.updateScreen(e)}),/*#__PURE__*/React.createElement(Button,{text:\"C\",onClick:e=>this.updateScreen(e)})),/*#__PURE__*/React.createElement(\"div\",{className:\"numsContainer\"},nums.map(num=>/*#__PURE__*/React.createElement(Button,{text:num,onClick:e=>this.updateScreen(e)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"symbsetContainer\"},symbset.map(symb=>/*#__PURE__*/React.createElement(Button,{text:symb,onClick:e=>this.updateScreen(e)}))));}}export default App;","map":{"version":3,"sources":["C:/React/reactcalculator/src/App.js"],"names":["React","Screen","Button","flag","nums","Array","from","keys","reverse","symbset","operators","operations","a","b","App","Component","constructor","state","scrValue","checkString","value","test","replacesymbol","symb","slice","setState","filter","operator","includes","Number","split","updateScreen","e","console","log","target","length","reduce","String","Math","sqrt","render","map","num"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Screen from \"./Screen\";\nimport Button from \"./Button\";\nimport \"./styles.css\";\n\nlet flag = false;\nconst nums = Array.from(Array(10).keys()).reverse();\nconst symbset = [\"=\", \".\", \"-\", \"+\", \"*\", \"/\", \"%\", \"√\"].reverse();\nconst operators = [\"+\", \"-\", \"*\", \"/\"];\n//create 'operations' so operators and their functions can exists as variables\nconst operations = {\n  \"+\": function(a, b) {\n    return a + b;\n  },\n  \"-\": function(a, b) {\n    return a - b;\n  },\n  \"*\": function(a, b) {\n    return a * b;\n  },\n  \"/\": function(a, b) {\n    return a / b;\n  }\n};\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      scrValue: \"0\"\n    };\n  }\n\n  //tests if a string contains only integer of float numbers\n  checkString(value) {\n    if (/^\\d+\\.\\d+$/.test(value) || /^\\d+$/.test(value)) return true;\n    else return false;\n  }\n\n  //manipulates the situation when 2 operators goes together in the screen.\n  replacesymbol(symb) {\n    // if there is an operator at the end of the string and the rest is a number,\n    // then the prexisted operator is replaced by the new operator clicked by user.\n    if (this.checkString(this.state.scrValue.slice(0, -1)))\n      this.setState({ scrValue: this.state.scrValue.slice(0, -1) + symb });\n    //else means that there is already an operator between 2 numbers in the screen and a second\n    //one comes in. The first in place operation completes and the sybmol of the\n    //new operation is added at the end of the result.\n    else {\n      this.setState({\n        scrValue:\n          //operations object has every possible operation, so we specify the operator\n          //by filtering operators array with the operator that is already included in\n          //the screen string and the 2 numbers needed for the operation are being given\n          operations[\n            //getting the operator that exist in the string\n            operators.filter(operator => this.state.scrValue.includes(operator))\n          ](\n            //transform string to number\n            Number(\n              //getting the first part of the string, the one before operator\n              this.state.scrValue.split(\n                operators.filter(operator =>\n                  this.state.scrValue.includes(operator)\n                )\n              )[0]\n            ),\n            //transform string to number\n            Number(\n              //getting the second part of the string, the one after operator\n              this.state.scrValue.split(\n                operators.filter(operator =>\n                  this.state.scrValue.includes(operator)\n                )\n              )[1]\n            )\n          ) + symb //adding the symbol of the new operation at the end\n      });\n    }\n  }\n\n  updateScreen(e) {\n    console.log(flag);\n\n    switch (e.target.value) {\n      case \"C\": {\n        this.setState({ scrValue: \"0\" });\n        break;\n      }\n      case \"←\": {\n        //check the length of screen value\n        if (this.state.scrValue.length > 1)\n          this.setState({\n            scrValue: this.state.scrValue.slice(0, -1),\n            symb: null\n          });\n        else this.setState({ scrValue: \"0\" });\n        break;\n      }\n      case \".\": {\n        if (\n          this.checkString(this.state.scrValue) &&\n          !this.state.scrValue.includes(\".\")\n        )\n          this.setState({ scrValue: this.state.scrValue + \".\" });\n        else if (\n          this.checkString(this.state.scrValue.slice(0, -1)) &&\n          !this.state.scrValue.includes(\".\")\n        )\n          this.setState({ scrValue: this.state.scrValue.slice(0, -1) + \".\" });\n        else if (\n          this.state.scrValue.split(\n            operators.filter(operator => this.state.scrValue.includes(operator))\n          )[1].length > 0 &&\n          !this.state.scrValue\n            .split(\n              operators.filter(operator =>\n                this.state.scrValue.includes(operator)\n              )\n            )[1]\n            .includes(\".\")\n        )\n          this.setState({\n            scrValue: this.state.scrValue + \".\"\n          });\n        // console.log(this.state.scrValue.split(this.state.operator)[1]);\n        // if (\n        //   (!this.state.scrValue.split(this.state.operator)[0].includes(\".\") &&\n        //     this.checkString(this.state.scrValue)) ||\n        //   (!this.checkString(this.state.scrValue) &&\n        //     !this.state.scrValue.split(this.state.operator)[1].includes(\".\") &&\n        //     this.state.scrValue.split(this.state.operator)[1] !== \"\")\n        // ) {\n        //   this.setState({\n        //     scrValue: this.state.scrValue + e.target.value\n        //   });\n        // }\n\n        // if (\n        //   !this.state.scrValue.split(this.state.operator)[0].includes(\".\") &&\n        //   this.state.scrValue.split(this.state.operator)[1] === \"\"\n        // )\n        //   this.setState({\n        //     scrValue: this.state.scrValue.slice(0, -1) + e.target.value\n        //   });\n        break;\n      }\n      case \"+\": {\n        if (this.state.scrValue.includes(\"+\"))\n          this.setState({\n            scrValue:\n              this.state.scrValue\n                .split(\"+\")\n                .reduce((a, b) => Number(a) + Number(b)) + \"+\"\n          });\n        if (this.checkString(this.state.scrValue))\n          this.setState({ scrValue: this.state.scrValue + e.target.value });\n        else this.replacesymbol(\"+\");\n        break;\n      }\n      case \"-\": {\n        if (this.state.scrValue.includes(\"-\"))\n          this.setState({\n            scrValue:\n              this.state.scrValue\n                .split(\"-\")\n                .reduce((a, b) => Number(a) - Number(b)) + \"-\"\n          });\n        if (this.checkString(this.state.scrValue))\n          this.setState({ scrValue: this.state.scrValue + e.target.value });\n        else this.replacesymbol(\"-\");\n        break;\n      }\n      case \"*\": {\n        if (\n          this.state.scrValue.includes(\"*\") &&\n          this.state.scrValue.split(\"*\")[1] !== \"\"\n        )\n          this.setState({\n            scrValue:\n              this.state.scrValue\n                .split(\"*\")\n                .reduce((a, b) => Number(a) * Number(b)) + \"*\"\n          });\n        if (this.checkString(this.state.scrValue))\n          this.setState({ scrValue: this.state.scrValue + e.target.value });\n        else this.replacesymbol(\"*\");\n        break;\n      }\n      case \"/\": {\n        if (\n          this.state.scrValue.includes(\"/\") &&\n          this.state.scrValue.split(\"/\")[1] !== \"\"\n        )\n          this.setState({\n            scrValue:\n              this.state.scrValue\n                .split(\"/\")\n                .reduce((a, b) => Number(a) / Number(b)) + \"/\"\n          });\n        if (this.checkString(this.state.scrValue))\n          this.setState({ scrValue: this.state.scrValue + e.target.value });\n        else this.replacesymbol(\"/\");\n        break;\n      }\n      case \"√\": {\n        if (this.checkString(this.state.scrValue))\n          this.setState({ scrValue: String(Math.sqrt(this.state.scrValue)) });\n        else if (this.checkString(this.state.scrValue.slice(0, -1)))\n          this.setState({\n            scrValue: String(Math.sqrt(this.state.scrValue.slice(0, -1)))\n          });\n        else\n          this.setState({\n            scrValue:\n              this.state.scrValue.split(\n                operators.filter(operator =>\n                  this.state.scrValue.includes(operator)\n                )\n              )[0] +\n              operators.filter(operator =>\n                this.state.scrValue.includes(operator)\n              ) +\n              String(\n                Math.sqrt(\n                  this.state.scrValue.split(\n                    operators.filter(operator =>\n                      this.state.scrValue.includes(operator)\n                    )\n                  )[1]\n                )\n              )\n          });\n        break;\n      }\n      case \"%\": {\n        if (this.checkString(this.state.scrValue))\n          this.setState({ scrValue: \"0\" });\n        else if (this.checkString(this.state.scrValue.slice(0, -1)))\n          this.setState({\n            scrValue:\n              this.state.scrValue +\n              String(\n                (this.state.scrValue.slice(0, -1) *\n                  this.state.scrValue.slice(0, -1)) /\n                  100\n              )\n          });\n        else\n          this.setState({\n            scrValue:\n              this.state.scrValue.split(\n                operators.filter(operator =>\n                  this.state.scrValue.includes(operator)\n                )\n              )[0] +\n              operators.filter(operator =>\n                this.state.scrValue.includes(operator)\n              ) +\n              String(\n                (this.state.scrValue.split(\n                  operators.filter(operator =>\n                    this.state.scrValue.includes(operator)\n                  )\n                )[0] *\n                  this.state.scrValue.split(\n                    operators.filter(operator =>\n                      this.state.scrValue.includes(operator)\n                    )\n                  )[1]) /\n                  100\n              )\n          });\n        break;\n      }\n      case \"=\": {\n        flag = true;\n        if (this.checkString(this.state.scrValue)) break;\n        if (this.state.scrValue.slice(-1) === \".\") {\n          this.setState({ scrValue: this.state.scrValue.slice(0, -1) });\n          break;\n        }\n        if (this.checkString(this.state.scrValue.slice(0, -1)))\n          this.setState({\n            scrValue: operations[this.state.scrValue.slice(-1)](\n              Number(this.state.scrValue.slice(0, -1)),\n              Number(this.state.scrValue.slice(0, -1))\n            )\n          });\n        else this.replacesymbol(\"\");\n\n        break;\n      }\n      default: {\n        //check if '0' is the initial value\n        this.state.scrValue === \"0\" ||\n        (flag && this.checkString(this.state.scrValue))\n          ? this.setState({ scrValue: e.target.value })\n          : this.setState({ scrValue: this.state.scrValue + e.target.value });\n\n        flag = false;\n\n        break;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Screen scrValue={this.state.scrValue} />\n        <div className=\"clearContainer\">\n          <Button text={\"←\"} onClick={e => this.updateScreen(e)} />\n          <Button text={\"C\"} onClick={e => this.updateScreen(e)} />\n        </div>\n        <div className=\"numsContainer\">\n          {nums.map(num => (\n            <Button text={num} onClick={e => this.updateScreen(e)} />\n          ))}\n        </div>\n        <div className=\"symbsetContainer\">\n          {symbset.map(symb => (\n            <Button text={symb} onClick={e => this.updateScreen(e)} />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}